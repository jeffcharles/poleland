<div class="container" ng-controller="Poll">
  <ol class="breadcrumb">
    <li><a href="#/polls">Polls</a></li>
    <li class="active">{{poll.title}}</li>
  </ol>
  <h1 class="pull-left">{{poll.title}}</h1>
  <button type="button" class="btn btn-danger pull-right poll-action" poleland-confirm="deletePoll()">
    Delete
  </button>
  <div class="clearfix"></div>
  <ol>
    <li class="question" ng-repeat="question in poll.questions">
      {{question.content}}
      <button title="Move up" type="button" class="btn btn-link move-arrow"
              ng-click="moveQuestionUp(question.id)"
              ng-disabled="!canMoveQuestionUp(question.id)">
        <span class="glyphicon glyphicon-arrow-up"></span>
        <span class="sr-only">Move answer up</span>
      </button>
      <button title="Move down" type="button" class="btn btn-link move-arrow"
              ng-click="moveQuestionDown(question.id)"
              ng-disabled="!canMoveQuestionDown(question.id)">
        <span class="glyphicon glyphicon-arrow-down"></span>
        <span class="sr-only">Move answer down</span>
      </button>
      <button title="delete" type="button" class="btn btn-link delete"
              ng-click="deleteQuestion(question.id)">
        <span class="glyphicon glyphicon-remove"></span>
        <span class="sr-only">Delete question</span>
      </button>
      <ol ui-sortable="sortableOptions" ng-model="question.answers">
        <li class="answer" ng-repeat="answer in question.answers">
          {{answer.content}}
          <button title="Move" type="button" class="btn btn-link move">
            <span class="glyphicon glyphicon-move move"></span>
            <span class="sr-only">Move answer</span>
          </button>
          <button title="Move up" type="button" class="btn btn-link move-arrow"
                  ng-click="moveAnswerUp(question.id, answer.id)"
                  ng-disabled="!canMoveAnswerUp(question.id, answer.id)">
            <span class="glyphicon glyphicon-arrow-up"></span>
            <span class="sr-only">Move answer up</span>
          </button>
          <button title="Move down" type="button"
                  class="btn btn-link move-arrow"
                  ng-click="moveAnswerDown(question.id, answer.id)"
                  ng-disabled="!canMoveAnswerDown(question.id, answer.id)">
            <span class="glyphicon glyphicon-arrow-down"></span>
            <span class="sr-only">Move answer down</span>
          </button>
          <button title="Delete" type="button" class="btn btn-link delete"
                  ng-click="deleteAnswer(question.id, answer.id)">
            <span class="glyphicon glyphicon-remove"></span>
            <span class="sr-only">Delete answer</span>
          </button>
        </li>
      </ol>
      <poleland-add add-to="question.answers" text="Add answer" />
    </li>
  </ol>
  <button type="button" class="btn btn-primary" ng-click="save()">Save</button>
  <button type="button" class="btn btn-primary" ng-click="apply()">
    Apply
  </button>
  <button type="button" class="btn btn-default" ng-click="back()">Back</button>
</div>
